<md-toolbar>
  <div class="md-toolbar-tools">
    <h2 ma-tr="emport.import"></h2>
    <span flex></span>
    <md-button class="md-icon-button" ng-click="$ctrl.close()" ng-disabled="$ctrl.importStatus && $ctrl.importStatus.progress !== 100">
      <md-icon>close</md-icon>
    </md-button>
  </div>
</md-toolbar>

<md-dialog-content layout="column" class="md-padding" flex>
  <div layout layout-align="center center"><span><span ng-bind="$ctrl.progress"></span>%</span></div>
  <md-progress-linear md-mode="determinate" value="{{$ctrl.progress}}"></md-progress-linear>
  <div flex class="ma-config-import-messages" tabindex="1">
    <div ng-repeat="msg in $ctrl.importStatus.genericMessages track by $index" ng-bind="msg"></div>
    <div class="ma-error-text" ng-repeat="msg in $ctrl.importStatus.validationMessages track by $index" ng-bind="msg.message"></div>
    <div ng-if="$ctrl.error" ng-bind="$ctrl.error" md-colors="{color: 'warn'}"></div>
  </div>
</md-dialog-content>

<md-dialog-actions layout="row">
  <md-button class="md-raised md-warn" ng-click="$ctrl.cancelImport()" ng-if="$ctrl.importStatus && $ctrl.importStatus.progress !== 100">
    <md-icon>cancel</md-icon> <span ma-tr="common.cancel"></span>
  </md-button>
  <md-button class="md-raised" ng-click="$ctrl.close()" ng-disabled="$ctrl.importStatus && $ctrl.importStatus.progress !== 100">
    <md-icon>close</md-icon> <span ma-tr="common.close"></span>
  </md-button>
</md-dialog-actions>